#include <bits/stdc++.h>
using namespace std;

string happyLadybugs(string b) {
    unordered_map<char, int> freq;
    bool hasEmpty = false;

    // Count frequencies and check for empty cell
    for (char c : b) {
        if (c == '_') {
            hasEmpty = true;
        } else {
            freq[c]++;
        }
    }

    // Case 1: No empty spaces, board must already be happy
    if (!hasEmpty) {
        for (int i = 0; i < (int)b.size(); i++) {
            bool leftSame = (i > 0 && b[i] == b[i - 1]);
            bool rightSame = (i < (int)b.size() - 1 && b[i] == b[i + 1]);

            if (!leftSame && !rightSame) {
                return "NO";
            }
        }
        return "YES";
    }

    // Case 2: There are empty spaces, but no color must appear exactly once
    for (auto p : freq) {
        if (p.second == 1) {
            return "NO";
        }
    }

    return "YES";
}

int main() {
    int g;
    cin >> g;
    while (g--) {
        int n;
        cin >> n;
        string b;
        cin >> b;
        cout << happyLadybugs(b) << endl;
    }
    return 0;
}
